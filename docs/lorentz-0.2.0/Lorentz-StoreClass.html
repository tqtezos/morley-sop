<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Lorentz.StoreClass</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Lorentz.StoreClass.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lorentz-0.2.0: EDSL for the Michelson Language</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Lorentz.StoreClass</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Class</a></li><li><a href="#g:2">Expressing constraints on storage</a></li><li><a href="#g:3">Methods to work with storage</a></li><li><a href="#g:4">Implementations</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides storage interfaces.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> <a href="#t:StoreHasField">StoreHasField</a> store fname ftype | store fname -&gt; ftype <span class="keyword">where</span><ul class="subs"><li><a href="#v:storeFieldOps">storeFieldOps</a> :: <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> store fname ftype</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:StoreFieldOps">StoreFieldOps</a> store fname ftype = <a href="#v:StoreFieldOps">StoreFieldOps</a> {<ul class="subs"><li><a href="#v:sopToField">sopToField</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> fname -&gt; (store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (ftype ': s)</li><li><a href="#v:sopSetField">sopSetField</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> fname -&gt; (ftype ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s)</li></ul>}</li><li class="src short"><span class="keyword">class</span> <a href="#t:StoreHasSubmap">StoreHasSubmap</a> store mname key value | store mname -&gt; key value <span class="keyword">where</span><ul class="subs"><li><a href="#v:storeSubmapOps">storeSubmapOps</a> :: <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> store mname key value</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:StoreSubmapOps">StoreSubmapOps</a> store mname key value = <a href="#v:StoreSubmapOps">StoreSubmapOps</a> {<ul class="subs"><li><a href="#v:sopMem">sopMem</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> ': s)</li><li><a href="#v:sopGet">sopGet</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> value ': s)</li><li><a href="#v:sopUpdate">sopUpdate</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> value ': (store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s)</li><li><a href="#v:sopDelete">sopDelete</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> (<a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s))</li><li><a href="#v:sopInsert">sopInsert</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> (<a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (value ': (store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s))</li></ul>}</li><li class="src short"><span class="keyword">data</span> k <a href="#t:-126--62-">~&gt;</a> v</li><li class="src short"><span class="keyword">type family</span> <a href="#t:StorageContains">StorageContains</a> store (content :: [<a href="Lorentz-ADT.html#t:NamedField" title="Lorentz.ADT">NamedField</a>]) :: <a href="../base-4.12.0.0/Data-Kind.html#t:Constraint" title="Data.Kind">Constraint</a> <span class="keyword">where ...</span></li><li class="src short"><a href="#v:stToField">stToField</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a> store fname ftype =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> fname -&gt; (store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (ftype ': s)</li><li class="src short"><a href="#v:stGetField">stGetField</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a> store fname ftype =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> fname -&gt; (store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (ftype ': (store ': s))</li><li class="src short"><a href="#v:stSetField">stSetField</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a> store fname ftype =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> fname -&gt; (ftype ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s)</li><li class="src short"><a href="#v:stMem">stMem</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> store mname key value =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> ': s)</li><li class="src short"><a href="#v:stGet">stGet</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> store mname key value =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> value ': s)</li><li class="src short"><a href="#v:stUpdate">stUpdate</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> store mname key value =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> value ': (store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s)</li><li class="src short"><a href="#v:stDelete">stDelete</a> :: <span class="keyword">forall</span> store mname key value s. (<a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> store mname key value, <a href="Lorentz-Constraints-Scopes.html#t:KnownValue" title="Lorentz.Constraints.Scopes">KnownValue</a> value) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s)</li><li class="src short"><a href="#v:stInsert">stInsert</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> store mname key value =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (value ': (store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s)</li><li class="src short"><a href="#v:stInsertNew">stInsertNew</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> store mname key value =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (<span class="keyword">forall</span> s0 any. (key ': s0) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> any) -&gt; (key ': (value ': (store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s)</li><li class="src short"><a href="#v:storeFieldOpsADT">storeFieldOpsADT</a> :: <a href="Lorentz-ADT.html#t:HasFieldOfType" title="Lorentz.ADT">HasFieldOfType</a> dt fname ftype =&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> dt fname ftype</li><li class="src short"><a href="#v:storeFieldOpsDeeper">storeFieldOpsDeeper</a> :: (<a href="Lorentz-ADT.html#t:HasFieldOfType" title="Lorentz.ADT">HasFieldOfType</a> storage fieldsPartName fields, <a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a> fields fname ftype) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> fieldsPartName -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> storage fname ftype</li><li class="src short"><a href="#v:storeSubmapOpsDeeper">storeSubmapOpsDeeper</a> :: (<a href="Lorentz-ADT.html#t:HasFieldOfType" title="Lorentz.ADT">HasFieldOfType</a> storage bigMapPartName fields, <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> fields mname key value) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> bigMapPartName -&gt; <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> storage mname key value</li><li class="src short"><a href="#v:storeFieldOpsReferTo">storeFieldOpsReferTo</a> :: <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> storage name field -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> storage desiredName field</li><li class="src short"><a href="#v:storeSubmapOpsReferTo">storeSubmapOpsReferTo</a> :: <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> storage name key value -&gt; <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> storage desiredName key value</li><li class="src short"><a href="#v:composeStoreFieldOps">composeStoreFieldOps</a> :: <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> nameInStore -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> store nameInStore substore -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> substore nameInSubstore field -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> store nameInSubstore field</li><li class="src short"><a href="#v:composeStoreSubmapOps">composeStoreSubmapOps</a> :: <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> nameInStore -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> store nameInStore substore -&gt; <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> substore mname key value -&gt; <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> store mname key value</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Class</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:StoreHasField" class="def">StoreHasField</a> store fname ftype | store fname -&gt; ftype <span class="keyword">where</span> <a href="src/Lorentz.StoreClass.html#StoreHasField" class="link">Source</a> <a href="#t:StoreHasField" class="selflink">#</a></p><div class="doc"><p>Provides operations on fields for storage.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:storeFieldOps" class="def">storeFieldOps</a> :: <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> store fname ftype <a href="src/Lorentz.StoreClass.html#storeFieldOps" class="link">Source</a> <a href="#v:storeFieldOps" class="selflink">#</a></p></div><div class="subs instances"><details id="i:StoreHasField" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:StoreHasField:StoreHasField:1"></span> <a href="Lorentz-UStore-Instr.html#t:HasUField" title="Lorentz.UStore.Instr">HasUField</a> fname ftype templ =&gt; <a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> templ) fname ftype</span> <a href="src/Lorentz.UStore.Instances.html#line-9" class="link">Source</a> <a href="#t:StoreHasField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:StoreHasField:StoreHasField:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Instances.html">Lorentz.UStore.Instances</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:storeFieldOps">storeFieldOps</a> :: <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> templ) fname ftype <a href="src/Lorentz.StoreClass.html#storeFieldOps" class="link">Source</a> <a href="#v:storeFieldOps" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:StoreHasField:StoreHasField:2"></span> (<a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a> other fname ftype, <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> store, <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> other) =&gt; <a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a> (<a href="Lorentz-Store.html#t:StorageSkeleton" title="Lorentz.Store">StorageSkeleton</a> store other) fname ftype</span> <a href="src/Lorentz.Store.html#line-582" class="link">Source</a> <a href="#t:StoreHasField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:StoreHasField:StoreHasField:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Store.html">Lorentz.Store</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:storeFieldOps">storeFieldOps</a> :: <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> (<a href="Lorentz-Store.html#t:StorageSkeleton" title="Lorentz.Store">StorageSkeleton</a> store other) fname ftype <a href="src/Lorentz.StoreClass.html#storeFieldOps" class="link">Source</a> <a href="#v:storeFieldOps" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:StoreFieldOps" class="def">StoreFieldOps</a> store fname ftype <a href="src/Lorentz.StoreClass.html#StoreFieldOps" class="link">Source</a> <a href="#t:StoreFieldOps" class="selflink">#</a></p><div class="doc"><p>Datatype containing the full implementation of <code><a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a></code> typeclass.</p><p>We use this grouping because in most cases implementation will be chosen
 among the default ones, and initializing all methods at once is simpler
 and more consistent.
 (One can say that we are trying to emulate benefits of <code>DerivingVia</code> extension.)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:StoreFieldOps" class="def">StoreFieldOps</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:sopToField" class="def">sopToField</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> fname -&gt; (store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (ftype ': s)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sopSetField" class="def">sopSetField</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> fname -&gt; (ftype ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:StoreHasSubmap" class="def">StoreHasSubmap</a> store mname key value | store mname -&gt; key value <span class="keyword">where</span> <a href="src/Lorentz.StoreClass.html#StoreHasSubmap" class="link">Source</a> <a href="#t:StoreHasSubmap" class="selflink">#</a></p><div class="doc"><p>Provides operations on fields for storage.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:storeSubmapOps" class="def">storeSubmapOps</a> :: <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> store mname key value <a href="src/Lorentz.StoreClass.html#storeSubmapOps" class="link">Source</a> <a href="#v:storeSubmapOps" class="selflink">#</a></p></div><div class="subs instances"><details id="i:StoreHasSubmap" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:StoreHasSubmap:StoreHasSubmap:1"></span> <a href="Lorentz-UStore-Instr.html#t:HasUStore" title="Lorentz.UStore.Instr">HasUStore</a> mname key value templ =&gt; <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> templ) mname key value</span> <a href="src/Lorentz.UStore.Instances.html#line-16" class="link">Source</a> <a href="#t:StoreHasSubmap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:StoreHasSubmap:StoreHasSubmap:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Instances.html">Lorentz.UStore.Instances</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:storeSubmapOps">storeSubmapOps</a> :: <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> templ) mname key value <a href="src/Lorentz.StoreClass.html#storeSubmapOps" class="link">Source</a> <a href="#v:storeSubmapOps" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:StoreHasSubmap:StoreHasSubmap:2"></span> (<a href="Lorentz-Store.html#t:StoreMemC" title="Lorentz.Store">StoreMemC</a> store name, <a href="Lorentz-Store.html#t:StoreGetC" title="Lorentz.Store">StoreGetC</a> store name, <a href="Lorentz-Store.html#t:StoreUpdateC" title="Lorentz.Store">StoreUpdateC</a> store name, key ~ <a href="Lorentz-Store.html#t:GetStoreKey" title="Lorentz.Store">GetStoreKey</a> store name, value ~ <a href="Lorentz-Store.html#t:GetStoreValue" title="Lorentz.Store">GetStoreValue</a> store name) =&gt; <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> (<a href="Lorentz-Store.html#t:Store" title="Lorentz.Store">Store</a> store) name key value</span> <a href="src/Lorentz.Store.html#line-404" class="link">Source</a> <a href="#t:StoreHasSubmap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:StoreHasSubmap:StoreHasSubmap:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Store.html">Lorentz.Store</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:storeSubmapOps">storeSubmapOps</a> :: <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> (<a href="Lorentz-Store.html#t:Store" title="Lorentz.Store">Store</a> store) name key value <a href="src/Lorentz.StoreClass.html#storeSubmapOps" class="link">Source</a> <a href="#v:storeSubmapOps" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:StoreHasSubmap:StoreHasSubmap:3"></span> (key ~ key', value ~ value', <a href="../morley-1.1.0/Michelson-Typed-Haskell-Value.html#t:IsComparable" title="Michelson.Typed.Haskell.Value">IsComparable</a> key) =&gt; <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> (<a href="Lorentz-Value.html#t:Map" title="Lorentz.Value">Map</a> key' value') name key value</span> <a href="src/Lorentz.StoreClass.html#line-186" class="link">Source</a> <a href="#t:StoreHasSubmap" class="selflink">#</a></td><td class="doc"><p><code><a href="Lorentz-Value.html#t:Map" title="Lorentz.Value">Map</a></code> can be used as standalone key-value storage if very needed.</p></td></tr><tr><td colspan="2"><details id="i:ic:StoreHasSubmap:StoreHasSubmap:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-StoreClass.html">Lorentz.StoreClass</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:storeSubmapOps">storeSubmapOps</a> :: <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> (<a href="Lorentz-Value.html#t:Map" title="Lorentz.Value">Map</a> key' value') name key value <a href="src/Lorentz.StoreClass.html#storeSubmapOps" class="link">Source</a> <a href="#v:storeSubmapOps" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:StoreHasSubmap:StoreHasSubmap:4"></span> (key ~ key', value ~ value', <a href="../morley-1.1.0/Michelson-Typed-Haskell-Value.html#t:IsComparable" title="Michelson.Typed.Haskell.Value">IsComparable</a> key) =&gt; <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> (<a href="Lorentz-Value.html#t:BigMap" title="Lorentz.Value">BigMap</a> key' value') name key value</span> <a href="src/Lorentz.StoreClass.html#line-175" class="link">Source</a> <a href="#t:StoreHasSubmap" class="selflink">#</a></td><td class="doc"><p><code><a href="Lorentz-Value.html#t:BigMap" title="Lorentz.Value">BigMap</a></code> can be used as standalone key-value storage,
 name of submap is not accounted in this case.</p></td></tr><tr><td colspan="2"><details id="i:ic:StoreHasSubmap:StoreHasSubmap:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-StoreClass.html">Lorentz.StoreClass</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:storeSubmapOps">storeSubmapOps</a> :: <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> (<a href="Lorentz-Value.html#t:BigMap" title="Lorentz.Value">BigMap</a> key' value') name key value <a href="src/Lorentz.StoreClass.html#storeSubmapOps" class="link">Source</a> <a href="#v:storeSubmapOps" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:StoreHasSubmap:StoreHasSubmap:5"></span> (<a href="Lorentz-Store.html#t:StoreMemC" title="Lorentz.Store">StoreMemC</a> store name, <a href="Lorentz-Store.html#t:StoreGetC" title="Lorentz.Store">StoreGetC</a> store name, <a href="Lorentz-Store.html#t:StoreUpdateC" title="Lorentz.Store">StoreUpdateC</a> store name, key ~ <a href="Lorentz-Store.html#t:GetStoreKey" title="Lorentz.Store">GetStoreKey</a> store name, value ~ <a href="Lorentz-Store.html#t:GetStoreValue" title="Lorentz.Store">GetStoreValue</a> store name, <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> other) =&gt; <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> (<a href="Lorentz-Store.html#t:StorageSkeleton" title="Lorentz.Store">StorageSkeleton</a> store other) name key value</span> <a href="src/Lorentz.Store.html#line-586" class="link">Source</a> <a href="#t:StoreHasSubmap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:StoreHasSubmap:StoreHasSubmap:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Store.html">Lorentz.Store</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:storeSubmapOps">storeSubmapOps</a> :: <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> (<a href="Lorentz-Store.html#t:StorageSkeleton" title="Lorentz.Store">StorageSkeleton</a> store other) name key value <a href="src/Lorentz.StoreClass.html#storeSubmapOps" class="link">Source</a> <a href="#v:storeSubmapOps" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:StoreSubmapOps" class="def">StoreSubmapOps</a> store mname key value <a href="src/Lorentz.StoreClass.html#StoreSubmapOps" class="link">Source</a> <a href="#t:StoreSubmapOps" class="selflink">#</a></p><div class="doc"><p>Datatype containing the full implementation of <code><a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a></code> typeclass.</p><p>We use this grouping because in most cases implementation will be chosen
 among the default ones, and initializing all methods at once is simpler
 and more consistent.
 (One can say that we are trying to emulate <code>DerivingVia</code> extension.)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:StoreSubmapOps" class="def">StoreSubmapOps</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:sopMem" class="def">sopMem</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> ': s)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sopGet" class="def">sopGet</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> value ': s)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sopUpdate" class="def">sopUpdate</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> value ': (store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sopDelete" class="def">sopDelete</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> (<a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s))</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sopInsert" class="def">sopInsert</a> :: <span class="keyword">forall</span> s. <a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> (<a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (value ': (store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s))</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><a href="#g:2" id="g:2"><h1>Expressing constraints on storage</h1></a><div class="top"><p class="src"><span class="keyword">data</span> k <a id="t:-126--62-" class="def">~&gt;</a> v <span class="fixity">infix 9</span><span class="rightedge"></span> <a href="src/Lorentz.StoreClass.html#~%3E" class="link">Source</a> <a href="#t:-126--62-" class="selflink">#</a></p><div class="doc"><p>Indicates a submap with given key and value types.</p></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:StorageContains" class="def">StorageContains</a> store (content :: [<a href="Lorentz-ADT.html#t:NamedField" title="Lorentz.ADT">NamedField</a>]) :: <a href="../base-4.12.0.0/Data-Kind.html#t:Constraint" title="Data.Kind">Constraint</a> <span class="keyword">where ...</span> <a href="src/Lorentz.StoreClass.html#StorageContains" class="link">Source</a> <a href="#t:StorageContains" class="selflink">#</a></p><div class="doc"><p>Concise way to write down constraints with expected content of a storage.</p><p>Use it like follows:</p><pre>type StorageConstraint = StorageContains
  [ &quot;fieldInt&quot; := Int
  , &quot;fieldNat&quot; := Nat
  , &quot;balances&quot; := Address ~&gt; Int
  ]
</pre></div><div class="subs equations"><p class="caption">Equations</p><table><tr><td class="src"><a href="Lorentz-StoreClass.html#t:StorageContains" title="Lorentz.StoreClass">StorageContains</a> _ '[] = ()</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Lorentz-StoreClass.html#t:StorageContains" title="Lorentz.StoreClass">StorageContains</a> store ((n <a href="Lorentz-ADT.html#t::-61-" title="Lorentz.ADT">:=</a> (k <a href="Lorentz-StoreClass.html#t:-126--62-" title="Lorentz.StoreClass">~&gt;</a> v)) ': ct) = (<a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> store n k v, <a href="Lorentz-StoreClass.html#t:StorageContains" title="Lorentz.StoreClass">StorageContains</a> store ct)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Lorentz-StoreClass.html#t:StorageContains" title="Lorentz.StoreClass">StorageContains</a> store ((n <a href="Lorentz-ADT.html#t::-61-" title="Lorentz.ADT">:=</a> ty) ': ct) = (<a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a> store n ty, <a href="Lorentz-StoreClass.html#t:StorageContains" title="Lorentz.StoreClass">StorageContains</a> store ct)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><a href="#g:3" id="g:3"><h1>Methods to work with storage</h1></a><div class="top"><p class="src"><a id="v:stToField" class="def">stToField</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a> store fname ftype =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> fname -&gt; (store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (ftype ': s) <a href="src/Lorentz.StoreClass.html#stToField" class="link">Source</a> <a href="#v:stToField" class="selflink">#</a></p><div class="doc"><p>Pick storage field.</p></div></div><div class="top"><p class="src"><a id="v:stGetField" class="def">stGetField</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a> store fname ftype =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> fname -&gt; (store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (ftype ': (store ': s)) <a href="src/Lorentz.StoreClass.html#stGetField" class="link">Source</a> <a href="#v:stGetField" class="selflink">#</a></p><div class="doc"><p>Get storage field, preserving the storage itself on stack.</p></div></div><div class="top"><p class="src"><a id="v:stSetField" class="def">stSetField</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a> store fname ftype =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> fname -&gt; (ftype ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s) <a href="src/Lorentz.StoreClass.html#stSetField" class="link">Source</a> <a href="#v:stSetField" class="selflink">#</a></p><div class="doc"><p>Update storage field.</p></div></div><div class="top"><p class="src"><a id="v:stMem" class="def">stMem</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> store mname key value =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> ': s) <a href="src/Lorentz.StoreClass.html#stMem" class="link">Source</a> <a href="#v:stMem" class="selflink">#</a></p><div class="doc"><p>Check value presence in storage.</p></div></div><div class="top"><p class="src"><a id="v:stGet" class="def">stGet</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> store mname key value =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> value ': s) <a href="src/Lorentz.StoreClass.html#stGet" class="link">Source</a> <a href="#v:stGet" class="selflink">#</a></p><div class="doc"><p>Get value in storage.</p></div></div><div class="top"><p class="src"><a id="v:stUpdate" class="def">stUpdate</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> store mname key value =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> value ': (store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s) <a href="src/Lorentz.StoreClass.html#stUpdate" class="link">Source</a> <a href="#v:stUpdate" class="selflink">#</a></p><div class="doc"><p>Update a value in storage.</p></div></div><div class="top"><p class="src"><a id="v:stDelete" class="def">stDelete</a> :: <span class="keyword">forall</span> store mname key value s. (<a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> store mname key value, <a href="Lorentz-Constraints-Scopes.html#t:KnownValue" title="Lorentz.Constraints.Scopes">KnownValue</a> value) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s) <a href="src/Lorentz.StoreClass.html#stDelete" class="link">Source</a> <a href="#v:stDelete" class="selflink">#</a></p><div class="doc"><p>Delete a value in storage.</p></div></div><div class="top"><p class="src"><a id="v:stInsert" class="def">stInsert</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> store mname key value =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (key ': (value ': (store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s) <a href="src/Lorentz.StoreClass.html#stInsert" class="link">Source</a> <a href="#v:stInsert" class="selflink">#</a></p><div class="doc"><p>Add a value in storage.</p></div></div><div class="top"><p class="src"><a id="v:stInsertNew" class="def">stInsertNew</a> :: <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> store mname key value =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> mname -&gt; (<span class="keyword">forall</span> s0 any. (key ': s0) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> any) -&gt; (key ': (value ': (store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (store ': s) <a href="src/Lorentz.StoreClass.html#stInsertNew" class="link">Source</a> <a href="#v:stInsertNew" class="selflink">#</a></p><div class="doc"><p>Add a value in storage, but fail if it will overwrite some existing entry.</p></div></div><a href="#g:4" id="g:4"><h1>Implementations</h1></a><div class="top"><p class="src"><a id="v:storeFieldOpsADT" class="def">storeFieldOpsADT</a> :: <a href="Lorentz-ADT.html#t:HasFieldOfType" title="Lorentz.ADT">HasFieldOfType</a> dt fname ftype =&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> dt fname ftype <a href="src/Lorentz.StoreClass.html#storeFieldOpsADT" class="link">Source</a> <a href="#v:storeFieldOpsADT" class="selflink">#</a></p><div class="doc"><p>Implementation of <code><a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a></code> for case of datatype
 keeping a pack of fields.</p></div></div><div class="top"><p class="src"><a id="v:storeFieldOpsDeeper" class="def">storeFieldOpsDeeper</a> :: (<a href="Lorentz-ADT.html#t:HasFieldOfType" title="Lorentz.ADT">HasFieldOfType</a> storage fieldsPartName fields, <a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a> fields fname ftype) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> fieldsPartName -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> storage fname ftype <a href="src/Lorentz.StoreClass.html#storeFieldOpsDeeper" class="link">Source</a> <a href="#v:storeFieldOpsDeeper" class="selflink">#</a></p><div class="doc"><p>Implementation of <code><a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a></code> for a data type which has an
 instance of <code><a href="Lorentz-StoreClass.html#t:StoreHasField" title="Lorentz.StoreClass">StoreHasField</a></code> inside.
 For instance, it can be used for top-level storage.</p></div></div><div class="top"><p class="src"><a id="v:storeSubmapOpsDeeper" class="def">storeSubmapOpsDeeper</a> :: (<a href="Lorentz-ADT.html#t:HasFieldOfType" title="Lorentz.ADT">HasFieldOfType</a> storage bigMapPartName fields, <a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a> fields mname key value) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> bigMapPartName -&gt; <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> storage mname key value <a href="src/Lorentz.StoreClass.html#storeSubmapOpsDeeper" class="link">Source</a> <a href="#v:storeSubmapOpsDeeper" class="selflink">#</a></p><div class="doc"><p>Implementation of <code><a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a></code> for a data type which has an
 instance of <code><a href="Lorentz-StoreClass.html#t:StoreHasSubmap" title="Lorentz.StoreClass">StoreHasSubmap</a></code> inside.
 For instance, it can be used for top-level storage.</p></div></div><div class="top"><p class="src"><a id="v:storeFieldOpsReferTo" class="def">storeFieldOpsReferTo</a> :: <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> storage name field -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> storage desiredName field <a href="src/Lorentz.StoreClass.html#storeFieldOpsReferTo" class="link">Source</a> <a href="#v:storeFieldOpsReferTo" class="selflink">#</a></p><div class="doc"><p>Pretend that given <code><a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a></code> implementation is made up
 for submap with name <code>desiredName</code>, not its actual name.
 Logic of the implementation remains the same.</p><p>See also <code><a href="Lorentz-StoreClass.html#v:storeSubmapOpsReferTo" title="Lorentz.StoreClass">storeSubmapOpsReferTo</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:storeSubmapOpsReferTo" class="def">storeSubmapOpsReferTo</a> :: <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> storage name key value -&gt; <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> storage desiredName key value <a href="src/Lorentz.StoreClass.html#storeSubmapOpsReferTo" class="link">Source</a> <a href="#v:storeSubmapOpsReferTo" class="selflink">#</a></p><div class="doc"><p>Pretend that given <code><a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a></code> implementation is made up
for submap with name <code>desiredName</code>, not its actual name.
Logic of the implementation remains the same.</p><p>Use case: imagine that your code requires access to submap named <code>X</code>,
but in your storage that submap is called <code>Y</code>.
Then you implement the instance which makes <code>X</code> refer to <code>Y</code>:</p><pre>instance StoreHasSubmap Store X Key Value where
  storeSubmapOps = storeSubmapOpsReferTo #Y storeSubmapOpsForY
</pre></div></div><div class="top"><p class="src"><a id="v:composeStoreFieldOps" class="def">composeStoreFieldOps</a> :: <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> nameInStore -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> store nameInStore substore -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> substore nameInSubstore field -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> store nameInSubstore field <a href="src/Lorentz.StoreClass.html#composeStoreFieldOps" class="link">Source</a> <a href="#v:composeStoreFieldOps" class="selflink">#</a></p><div class="doc"><p>Chain two implementations of field operations.</p><p>Suits for a case when your store does not contain its fields directly
 rather has a nested structure.</p></div></div><div class="top"><p class="src"><a id="v:composeStoreSubmapOps" class="def">composeStoreSubmapOps</a> :: <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> nameInStore -&gt; <a href="Lorentz-StoreClass.html#t:StoreFieldOps" title="Lorentz.StoreClass">StoreFieldOps</a> store nameInStore substore -&gt; <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> substore mname key value -&gt; <a href="Lorentz-StoreClass.html#t:StoreSubmapOps" title="Lorentz.StoreClass">StoreSubmapOps</a> store mname key value <a href="src/Lorentz.StoreClass.html#composeStoreSubmapOps" class="link">Source</a> <a href="#v:composeStoreSubmapOps" class="selflink">#</a></p><div class="doc"><p>Chain implementations of field and submap operations.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>