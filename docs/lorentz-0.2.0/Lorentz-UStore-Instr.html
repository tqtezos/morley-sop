<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Lorentz.UStore.Instr</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Lorentz.UStore.Instr.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lorentz-0.2.0: EDSL for the Michelson Language</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Lorentz.UStore.Instr</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Instruction constraints</a></li><li><a href="#g:2">Internals</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Instructions to work with <code><a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:unsafeEmptyUStore">unsafeEmptyUStore</a> :: <span class="keyword">forall</span> store s. s <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)</li><li class="src short"><a href="#v:ustoreMem">ustoreMem</a> :: <span class="keyword">forall</span> store name s. KeyAccessC store name =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> ': s)</li><li class="src short"><a href="#v:ustoreGet">ustoreGet</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> (<a href="Lorentz-UStore-Types.html#t:GetUStoreValue" title="Lorentz.UStore.Types">GetUStoreValue</a> store name) ': s)</li><li class="src short"><a href="#v:ustoreUpdate">ustoreUpdate</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> (<a href="Lorentz-UStore-Types.html#t:GetUStoreValue" title="Lorentz.UStore.Types">GetUStoreValue</a> store name) ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)</li><li class="src short"><a href="#v:ustoreInsert">ustoreInsert</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore-Types.html#t:GetUStoreValue" title="Lorentz.UStore.Types">GetUStoreValue</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)</li><li class="src short"><a href="#v:ustoreInsertNew">ustoreInsertNew</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<span class="keyword">forall</span> s0 any. (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': s0) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> any) -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore-Types.html#t:GetUStoreValue" title="Lorentz.UStore.Types">GetUStoreValue</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)</li><li class="src short"><a href="#v:ustoreDelete">ustoreDelete</a> :: <span class="keyword">forall</span> store name s. KeyAccessC store name =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)</li><li class="src short"><a href="#v:ustoreToField">ustoreToField</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:GetUStoreField" title="Lorentz.UStore.Types">GetUStoreField</a> store name ': s)</li><li class="src short"><a href="#v:ustoreGetField">ustoreGetField</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:GetUStoreField" title="Lorentz.UStore.Types">GetUStoreField</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s))</li><li class="src short"><a href="#v:ustoreSetField">ustoreSetField</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreField" title="Lorentz.UStore.Types">GetUStoreField</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)</li><li class="src short"><a href="#v:ustoreRemoveFieldUnsafe">ustoreRemoveFieldUnsafe</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)</li><li class="src short"><span class="keyword">type</span> <a href="#t:HasUStore">HasUStore</a> name key value store = (KeyAccessC store name, ValueAccessC store name, <a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ~ key, <a href="Lorentz-UStore-Types.html#t:GetUStoreValue" title="Lorentz.UStore.Types">GetUStoreValue</a> store name ~ value)</li><li class="src short"><span class="keyword">type</span> <a href="#t:HasUField">HasUField</a> name ty store = (FieldAccessC store name, <a href="Lorentz-UStore-Types.html#t:GetUStoreField" title="Lorentz.UStore.Types">GetUStoreField</a> store name ~ ty)</li><li class="src short"><span class="keyword">type</span> <a href="#t:HasUStoreForAllIn">HasUStoreForAllIn</a> store constrained = (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> store, GHasStoreForAllIn constrained (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> store))</li><li class="src short"><a href="#v:packSubMapUKey">packSubMapUKey</a> :: <span class="keyword">forall</span> (field :: <a href="../base-4.12.0.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) k s. (<a href="../base-4.12.0.0/GHC-TypeLits.html#t:KnownSymbol" title="GHC.TypeLits">KnownSymbol</a> field, <a href="Lorentz-Constraints-Scopes.html#t:NicePackedValue" title="Lorentz.Constraints.Scopes">NicePackedValue</a> k) =&gt; (k ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a> ': s)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:unsafeEmptyUStore" class="def">unsafeEmptyUStore</a> :: <span class="keyword">forall</span> store s. s <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="src/Lorentz.UStore.Instr.html#unsafeEmptyUStore" class="link">Source</a> <a href="#v:unsafeEmptyUStore" class="selflink">#</a></p><div class="doc"><p>Put an empty <code><a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code> onto the stack. This function is generally unsafe:
 if store template contains a <code><a href="Lorentz-UStore-Types.html#t:UStoreFieldExt" title="Lorentz.UStore.Types">UStoreFieldExt</a></code>, the resulting <code><a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code> is not
 immediately usable.
 If you are sure that <code><a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code> contains only submaps, feel free to just use
 the result of this function. Otherwise you must set all fields.</p></div></div><div class="top"><p class="src"><a id="v:ustoreMem" class="def">ustoreMem</a> :: <span class="keyword">forall</span> store name s. KeyAccessC store name =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreMem" class="link">Source</a> <a href="#v:ustoreMem" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ustoreGet" class="def">ustoreGet</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> (<a href="Lorentz-UStore-Types.html#t:GetUStoreValue" title="Lorentz.UStore.Types">GetUStoreValue</a> store name) ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreGet" class="link">Source</a> <a href="#v:ustoreGet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ustoreUpdate" class="def">ustoreUpdate</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> (<a href="Lorentz-UStore-Types.html#t:GetUStoreValue" title="Lorentz.UStore.Types">GetUStoreValue</a> store name) ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreUpdate" class="link">Source</a> <a href="#v:ustoreUpdate" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ustoreInsert" class="def">ustoreInsert</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore-Types.html#t:GetUStoreValue" title="Lorentz.UStore.Types">GetUStoreValue</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreInsert" class="link">Source</a> <a href="#v:ustoreInsert" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ustoreInsertNew" class="def">ustoreInsertNew</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<span class="keyword">forall</span> s0 any. (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': s0) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> any) -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore-Types.html#t:GetUStoreValue" title="Lorentz.UStore.Types">GetUStoreValue</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreInsertNew" class="link">Source</a> <a href="#v:ustoreInsertNew" class="selflink">#</a></p><div class="doc"><p>Insert a key-value pair, but fail if it will overwrite some existing entry.</p></div></div><div class="top"><p class="src"><a id="v:ustoreDelete" class="def">ustoreDelete</a> :: <span class="keyword">forall</span> store name s. KeyAccessC store name =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreDelete" class="link">Source</a> <a href="#v:ustoreDelete" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ustoreToField" class="def">ustoreToField</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:GetUStoreField" title="Lorentz.UStore.Types">GetUStoreField</a> store name ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreToField" class="link">Source</a> <a href="#v:ustoreToField" class="selflink">#</a></p><div class="doc"><p>Like <code>toField</code>, but for <code><a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code>.</p><p>This may fail only if <code><a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code> was made up incorrectly during contract
 initialization.</p></div></div><div class="top"><p class="src"><a id="v:ustoreGetField" class="def">ustoreGetField</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:GetUStoreField" title="Lorentz.UStore.Types">GetUStoreField</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)) <a href="src/Lorentz.UStore.Instr.html#ustoreGetField" class="link">Source</a> <a href="#v:ustoreGetField" class="selflink">#</a></p><div class="doc"><p>Like <code>getField</code>, but for <code><a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code>.</p><p>This may fail only if <code><a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code> was made up incorrectly during contract
 initialization.</p></div></div><div class="top"><p class="src"><a id="v:ustoreSetField" class="def">ustoreSetField</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:GetUStoreField" title="Lorentz.UStore.Types">GetUStoreField</a> store name ': (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreSetField" class="link">Source</a> <a href="#v:ustoreSetField" class="selflink">#</a></p><div class="doc"><p>Like <code>setField</code>, but for <code><a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:ustoreRemoveFieldUnsafe" class="def">ustoreRemoveFieldUnsafe</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreRemoveFieldUnsafe" class="link">Source</a> <a href="#v:ustoreRemoveFieldUnsafe" class="selflink">#</a></p><div class="doc"><p>Remove a field from <code><a href="Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code>, for internal purposes only.</p></div></div><a href="#g:1" id="g:1"><h2>Instruction constraints</h2></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:HasUStore" class="def">HasUStore</a> name key value store = (KeyAccessC store name, ValueAccessC store name, <a href="Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store name ~ key, <a href="Lorentz-UStore-Types.html#t:GetUStoreValue" title="Lorentz.UStore.Types">GetUStoreValue</a> store name ~ value) <a href="src/Lorentz.UStore.Instr.html#HasUStore" class="link">Source</a> <a href="#t:HasUStore" class="selflink">#</a></p><div class="doc"><p>This constraint can be used if a function needs to work with
 <em>big</em> store, but needs to know only about some submap(s) of it.</p><p>It can use all UStore operations for a particular name, key and
 value without knowing whole template.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:HasUField" class="def">HasUField</a> name ty store = (FieldAccessC store name, <a href="Lorentz-UStore-Types.html#t:GetUStoreField" title="Lorentz.UStore.Types">GetUStoreField</a> store name ~ ty) <a href="src/Lorentz.UStore.Instr.html#HasUField" class="link">Source</a> <a href="#t:HasUField" class="selflink">#</a></p><div class="doc"><p>This constraint can be used if a function needs to work with
 <em>big</em> store, but needs to know only about some field of it.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:HasUStoreForAllIn" class="def">HasUStoreForAllIn</a> store constrained = (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> store, GHasStoreForAllIn constrained (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> store)) <a href="src/Lorentz.UStore.Instr.html#HasUStoreForAllIn" class="link">Source</a> <a href="#t:HasUStoreForAllIn" class="selflink">#</a></p><div class="doc"><p>Write down all sensisble constraints which given <code>store</code> satisfies
 and apply them to <code>constrained</code>.</p><p>This store should have <code><a href="Lorentz-UStore-Types.html#t:-124--126--62-" title="Lorentz.UStore.Types">|~&gt;</a></code> and <code><a href="Lorentz-UStore-Types.html#t:UStoreFieldExt" title="Lorentz.UStore.Types">UStoreFieldExt</a></code> fields in its immediate fields,
 no deep inspection is performed.</p></div></div><a href="#g:2" id="g:2"><h2>Internals</h2></a><div class="top"><p class="src"><a id="v:packSubMapUKey" class="def">packSubMapUKey</a> :: <span class="keyword">forall</span> (field :: <a href="../base-4.12.0.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) k s. (<a href="../base-4.12.0.0/GHC-TypeLits.html#t:KnownSymbol" title="GHC.TypeLits">KnownSymbol</a> field, <a href="Lorentz-Constraints-Scopes.html#t:NicePackedValue" title="Lorentz.Constraints.Scopes">NicePackedValue</a> k) =&gt; (k ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a> ': s) <a href="src/Lorentz.UStore.Instr.html#packSubMapUKey" class="link">Source</a> <a href="#v:packSubMapUKey" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>